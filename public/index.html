<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, minimal-ui">
  <title>Mo:link Design</title>
  <style>
    /* ==========================================
       Glassmorphism + è§†å·®æ»šåŠ¨ + å¾®äº¤äº’
       ========================================== */
    :root {
      /* ğŸ¨ ç»ç’ƒé’è‰²è°ƒèŠ‚ï¼ˆ0-20 æ¨èï¼Œæ•°å€¼è¶Šå¤§é’è‰²è¶Šæ˜æ˜¾ï¼‰ */
      --glass-cyan-percent: 16;
      
      /* å“ç‰Œè‰²ç³» - æ¸…é€è½»ç›ˆ */
      --color-primary: #917355;       /* æé«˜æ˜åº¦ï¼Œé™ä½çº¢è°ƒ */
      --color-primary-light: #B5A091;
      --color-primary-pale: #F5F0EB;
      --color-primary-dark: #806A54;

      /* å¼ºè°ƒè‰² */
      --color-accent: #7a9e7e;
      --color-accent-light: #a8c5ab;
      --color-accent-dark: #5a7e5e;

      /* ç»ç’ƒæ€æ•ˆæœ - æé«˜é€æ˜åº¦ï¼ŒiOSé£æ ¼ */
      --glass-bg: hsla(180, calc(var(--glass-cyan-percent) * 1%), 98%, 0.25); /* ä»0.15æé«˜åˆ°0.25 */
      --glass-border: hsla(180, calc(var(--glass-cyan-percent) * 0.8%), 95%, 0.5); /* ä»0.3æé«˜åˆ°0.5 */
      --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.12);
      --glass-blur: 20px; /* ä»12pxå¢å¼ºåˆ°20px */

      /* ä¸­æ€§è‰² */
      --color-text-primary: #2a2a2a;
      --color-text-secondary: #5a5a5a;
      --color-text-tertiary: #8a8a8a;
      --color-disabled-bg: rgba(240, 235, 229, 0.5);
      --color-disabled-text: #c8b8a8;

      /* åœ†è§’ */
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;

      /* åŠ¨ç”»å‚æ•° */
      --duration-fast: 0.2s;
      --duration-normal: 0.3s;
      --duration-slow: 0.5s;
      --easing-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
      --easing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
      --easing-enter: cubic-bezier(0, 0, 0.2, 1);

      /* æ»‘å‡ºåŠ¨ç”»è·ç¦» */
      --slide-distance: 40px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* ==========================================
       ç§»åŠ¨ç«¯å…¨å±€ä¼˜åŒ– + Chromeç§»åŠ¨ç«¯ä¿®å¤
       ========================================== */
    html {
      /* ç¦ç”¨iOSåŒå‡»ç¼©æ”¾ */
      touch-action: manipulation;
      /* ç¦ç”¨iOSé•¿æŒ‰é€‰æ‹© */
      -webkit-user-select: none;
      user-select: none;
      /* å¹³æ»‘æ»šåŠ¨ */
      scroll-behavior: smooth;
      /* Chromeç§»åŠ¨ç«¯ï¼šé˜²æ­¢è‡ªåŠ¨è°ƒæ•´å­—ä½“å¤§å° */
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    /* å…è®¸æ–‡æœ¬é€‰æ‹©å’Œè¾“å…¥æ¡†æ“ä½œ */
    input, textarea, [contenteditable] {
      -webkit-user-select: text;
      user-select: text;
      touch-action: auto;
      /* Chromeç§»åŠ¨ç«¯ï¼šç¡®ä¿è¾“å…¥æ¡†ä¸ç¼©æ”¾ */
      font-size: max(16px, 1em); /* Chromeè¦æ±‚16pxä»¥ä¸Šæ‰ä¸ç¼©æ”¾ */
    }

    /* ç¦ç”¨ç§»åŠ¨ç«¯ç‚¹å‡»è“è‰²é«˜äº® */
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }

    /* ==========================================
       è§†å·®èƒŒæ™¯å±‚
       ========================================== */
    body {
      font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative; /* ä¸ºabsoluteå®šä½çš„èƒŒæ™¯æä¾›å®šä½ä¸Šä¸‹æ–‡ */
      color: var(--color-text-primary);
      -webkit-font-smoothing: antialiased;
    }

    /* èƒŒæ™¯å›¾å±‚ - æ”¯æŒæœ¬åœ°å›¾ç‰‡æ›¿æ¢ï¼Œè·Ÿéšæ»šåŠ¨ä½†é€Ÿåº¦å‡åŠ */
    .parallax-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      /* ä½¿ç”¨å›ºå®šåƒç´ é«˜åº¦é¿å…ç§»åŠ¨ç«¯åœ°å€æ å¯¼è‡´çš„æŠ–åŠ¨ */
      height: 100%; /* ç»§æ‰¿bodyé«˜åº¦ */
      min-height: 100%; /* æœ€å°é«˜åº¦ */
      z-index: 0;
      opacity: 1; /* ç›´æ¥ä½¿ç”¨åŸå›¾ï¼Œä¸åšç°åº¦è°ƒè‰² */
      will-change: transform;
      
      /* é»˜è®¤æ¸å˜èƒŒæ™¯ */
      background: linear-gradient(135deg, #f5efe9 0%, #e8dfd5 100%);
      
      /* ç§»åŠ¨ç«¯å›¾ç‰‡èƒŒæ™¯ï¼ˆä¼˜å…ˆåŠ è½½å°å°ºå¯¸ï¼‰ */
      background-image: url('/images/background-mobile.jpg');
      background-size: cover;
      background-position: center top;
      background-repeat: no-repeat;
      background-attachment: scroll;
    }

    /* PCç«¯ä½¿ç”¨é«˜æ¸…å›¾ç‰‡ */
    @media (min-width: 768px) {
      .parallax-bg {
        background-image: url('/images/background.jpg');
      }
    }

    /* æ ¼ç½‘èƒŒæ™¯å·²ç§»é™¤ï¼Œä½¿ç”¨çº¯å›¾ç‰‡èƒŒæ™¯ */

    /* ç™½è‰²å™ªç‚¹çº¹ç† */
    .parallax-bg::after {
      content: '';
      position: absolute;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='3.5' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
      opacity: 0.6;
      mix-blend-mode: overlay;
    }

    /* ==========================================
       é¡µé¢å¤´éƒ¨ - ç»ç’ƒæ€
       ========================================== */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      backdrop-filter: blur(var(--glass-blur)) saturate(180%);
      background: var(--glass-bg);
      border-bottom: 1px solid var(--glass-border);
      box-shadow: var(--glass-shadow);
    }

    .header-logo {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.5px;
      color: var(--color-primary-dark);
      transition: transform var(--duration-fast) var(--easing-bounce);
      cursor: default;
    }
    .header-logo:hover { transform: scale(1.05); }

    .header-sub {
      font-size: 12px;
      opacity: 0.7;
      margin-left: auto;
      color: var(--color-text-secondary);
    }

    /* ==========================================
       ä¸»å®¹å™¨ - è§†å·®å‰æ™¯å±‚
       ========================================== */
    .container {
      position: relative;
      z-index: 1;
      max-width: 480px;
      margin: 0 auto;
      padding: 20px 16px 40px;
    }

    /* ç§»åŠ¨ç«¯ä¼˜åŒ–ï¼šå¢åŠ é—´è·é¿å…å…ƒç´ ç´§å‡‘ */
    @media (max-width: 767px) {
      .container {
        padding: 24px 20px 60px;
      }
    }

    /* ==========================================
       åˆ†åŒºå¡ç‰‡ - Glassmorphism iOSé£æ ¼è¾¹ç¼˜æ‰­æ›²
       ========================================== */
    .section {
      backdrop-filter: blur(var(--glass-blur)) saturate(180%);
      background: var(--glass-bg);  /* é’è‰²è°ƒç»ç’ƒèƒŒæ™¯ */
      border-radius: var(--radius-xl);
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: var(--glass-shadow);
      border: 1px solid var(--glass-border);
      position: relative;
      overflow: visible; /* å…è®¸è¾¹ç¼˜æ•ˆæœæº¢å‡º */
      
      /* ç»ç’ƒè¾¹ç¼˜åå…‰æ•ˆæœ - é’è‰²è°ƒ */
      background-image: linear-gradient(
        135deg,
        hsla(180, calc(var(--glass-cyan-percent) * 2), 98%, 0.4) 0%,
        hsla(180, var(--glass-cyan-percent), 95%, 0.05) 50%,
        hsla(180, calc(var(--glass-cyan-percent) / 2), 96%, 0.15) 100%
      );
      
      /* åˆå§‹çŠ¶æ€ï¼šéšè— */
      opacity: 0;
      transform: translateY(calc(-1 * var(--slide-distance)));
      max-height: 0;
      padding-top: 0;
      padding-bottom: 0;
      margin-bottom: 0;
      
      /* åŠ¨ç”»è¿‡æ¸¡ */
      transition: 
        opacity var(--duration-slow) var(--easing-enter),
        transform var(--duration-slow) var(--easing-enter),
        max-height var(--duration-slow) var(--easing-enter),
        padding var(--duration-slow) var(--easing-enter),
        margin var(--duration-slow) var(--easing-enter);
    }

    /* iOSé£æ ¼è¾¹ç¼˜æ‰­æ›²æ•ˆæœ - é¡¶éƒ¨é«˜å…‰ */
    .section::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.8) 50%,
        transparent 100%
      );
      border-radius: var(--radius-xl) var(--radius-xl) 0 0;
      opacity: 0.6;
    }
    
    /* ç§»åŠ¨ç«¯ï¼šå¢åŠ paddingå’Œmarginï¼ŒåŠ å®½ç»ç’ƒè¾¹ç¼˜ */
    @media (max-width: 767px) {
      .section {
        padding: 24px;
        margin-bottom: 20px;
        border-width: 1.5px; /* åŠ å®½è¾¹ç¼˜ä¾¿äºè§¦æ‘¸è®¾å¤‡è¯†åˆ« */
      }
      
      .section.visible {
        padding-top: 24px;
        padding-bottom: 24px;
        margin-bottom: 20px;
      }
    }
    
    /* æ»‘å‡ºæ˜¾ç¤ºçŠ¶æ€ */
    .section.visible {
      opacity: 1;
      transform: translateY(0);
      max-height: 2000px;
      padding-top: 20px;
      padding-bottom: 20px;
      margin-bottom: 16px;
      overflow: visible;
    }
    
    /* ç¬¬ä¸€ä¸ªåŒºåŸŸå§‹ç»ˆå¯è§ */
    .section:first-of-type {
      opacity: 1;
      transform: translateY(0);
      max-height: none;
      padding: 20px;
      margin-bottom: 16px;
    }

    @media (max-width: 767px) {
      .section:first-of-type {
        padding: 24px;
        margin-bottom: 20px;
      }
    }

    /* ç™½è‰²å™ªç‚¹çº¹ç†å åŠ åˆ°å¡ç‰‡ */
    .section::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: var(--radius-xl);
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2.5' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
      pointer-events: none;
      mix-blend-mode: overlay;
    }

    .section-title {
      font-size: 14px;
      color: var(--color-text-secondary);
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
    }
    .section-title::before {
      content: '';
      width: 3px;
      height: 14px;
      background: var(--color-primary);
      border-radius: 2px;
    }

    /* ==========================================
       æœåŠ¡ç±»å‹é€‰æ‹©æŒ‰é’® - å¾®äº¤äº’
       ========================================== */
    .service-btns {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    /* ç§»åŠ¨ç«¯å¢åŠ é—´è· */
    @media (max-width: 767px) {
      .service-btns {
        gap: 14px;
      }
    }

    .service-btn {
      padding: 14px 16px;
      border: 2px solid var(--glass-border);
      border-radius: var(--radius-md);
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(8px);
      font-size: 15px;
      color: var(--color-text-primary);
      cursor: pointer;
      transition: all var(--duration-normal) var(--easing-smooth);
      text-align: left;
      display: flex;
      align-items: center;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }

    /* ç§»åŠ¨ç«¯å¢å¤§å¯ç‚¹å‡»åŒºåŸŸ */
    @media (max-width: 767px) {
      .service-btn {
        padding: 16px 18px;
        min-height: 56px; /* ç¬¦åˆç§»åŠ¨ç«¯æœ€å°è§¦æ§åŒºåŸŸæ ‡å‡† */
      }
    }
    
    /* Micro-interaction: æŒ‰å‹å¼¹æ€§ */
    .service-btn:active { 
      transform: scale(0.98);
      transition-duration: var(--duration-fast);
    }
    
    /* PCç«¯æ‚¬åœå…‰æ™•ï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    .service-btn::after {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(122,158,126,0.15), transparent 50%);
      opacity: 0;
      transition: opacity var(--duration-normal) var(--easing-smooth);
    }
    
    @media (hover: hover) {
      .service-btn:hover::after { opacity: 1; }
    }
    
    .service-btn.active {
      border-color: var(--color-accent);
      background: rgba(122,158,126,0.2);
      color: var(--color-accent-dark);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(122,158,126,0.2);
    }

    /* ç§»åŠ¨ç«¯activeçŠ¶æ€ä¸ä¸Šç§» */
    @media (max-width: 767px) {
      .service-btn.active {
        transform: translateY(0);
      }
    }
    
    .service-btn .icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      flex-shrink: 0;
      font-weight: 600;
      transition: all var(--duration-normal) var(--easing-bounce);
    }

    /* PCç«¯æ‚¬åœå›¾æ ‡åŠ¨æ•ˆï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    @media (hover: hover) {
      .service-btn:hover .icon { transform: rotate(5deg) scale(1.1); }
    }

    .service-btn.active .icon {
      background: var(--color-accent);
      color: #fff;
    }
    .service-btn:not(.active) .icon {
      background: var(--color-disabled-bg);
      color: var(--color-text-tertiary);
    }

    /* ==========================================
       å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ - å¾®äº¤äº’
       ========================================== */
    .upload-row {
      display: flex;
      gap: 12px;
    }

    /* ç§»åŠ¨ç«¯å¢åŠ é—´è· */
    @media (max-width: 767px) {
      .upload-row {
        gap: 16px;
      }
    }

    .upload-box {
      flex: 1;
      aspect-ratio: 1;
      border: 2px dashed var(--glass-border);
      border-radius: var(--radius-md);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all var(--duration-normal) var(--easing-smooth);
      position: relative;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(8px);
    }

    /* ç§»åŠ¨ç«¯åŠ å®½è¾¹æ¡†ä¾¿äºè¯†åˆ« */
    @media (max-width: 767px) {
      .upload-box {
        border-width: 2.5px;
      }
    }
    
    /* PCç«¯æ‚¬åœæç¤ºï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    @media (hover: hover) {
      .upload-box:hover:not(.disabled) {
        border-color: var(--color-accent);
        transform: translateY(-3px);
        box-shadow: 0 6px 16px rgba(122,158,126,0.15);
      }
    }
    
    .upload-box:active:not(.disabled) { 
      transform: translateY(-1px) scale(0.98); 
    }

    /* ç§»åŠ¨ç«¯ç‚¹å‡»åé¦ˆ */
    @media (max-width: 767px) {
      .upload-box:active:not(.disabled) {
        transform: scale(0.98);
        border-color: var(--color-accent);
      }
    }
    
    .upload-box.has-image {
      border-style: solid;
      border-color: var(--color-accent);
    }
    .upload-box.disabled {
      opacity: 0.35;
      pointer-events: none;
    }
    .upload-box .label {
      font-size: 13px;
      color: var(--color-text-secondary);
      margin-top: 8px;
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(4px);
      padding: 4px 10px;
      border-radius: 12px;
      transition: transform var(--duration-fast) var(--easing-bounce);
    }

    /* PCç«¯æ‚¬åœæ ‡ç­¾åŠ¨æ•ˆï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    @media (hover: hover) {
      .upload-box:hover .label { transform: scale(1.05); }
    }
    
    .upload-box .plus {
      font-size: 32px;
      color: var(--color-text-tertiary);
      line-height: 1;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(4px);
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--duration-normal) var(--easing-bounce);
    }

    /* ç§»åŠ¨ç«¯å¢å¤§plusç¬¦å· */
    @media (max-width: 767px) {
      .upload-box .plus {
        width: 56px;
        height: 56px;
        font-size: 36px;
      }
    }

    /* PCç«¯æ‚¬åœplusåŠ¨æ•ˆï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    @media (hover: hover) {
      .upload-box:hover .plus { 
        transform: rotate(90deg) scale(1.1);
        background: rgba(122,158,126,0.3);
        color: var(--color-accent);
      }
    }
    
    .upload-box img.preview {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    
    .upload-box .remove-btn {
      position: absolute;
      top: 6px;
      right: 6px;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(4px);
      color: #fff;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 5;
      cursor: pointer;
      transition: all var(--duration-fast) var(--easing-bounce);
      opacity: 0;
    }

    /* ç§»åŠ¨ç«¯å§‹ç»ˆæ˜¾ç¤ºåˆ é™¤æŒ‰é’®ï¼Œå¢å¤§å°ºå¯¸ */
    @media (max-width: 767px) {
      .upload-box .remove-btn {
        opacity: 1;
        width: 32px;
        height: 32px;
        font-size: 18px;
        top: 8px;
        right: 8px;
      }
    }

    /* PCç«¯æ‚¬åœæ˜¾ç¤º */
    @media (hover: hover) {
      .upload-box:hover .remove-btn { opacity: 1; }
    }

    .remove-btn:hover { 
      transform: scale(1.15) rotate(90deg);
      background: rgba(196,92,74,0.9);
    }

    /* ç§»åŠ¨ç«¯ç‚¹å‡»åé¦ˆ */
    @media (max-width: 767px) {
      .remove-btn:active {
        transform: scale(0.9);
        background: rgba(196,92,74,0.9);
      }
    }
    
    .upload-box input[type="file"] { display: none; }

    /* ==========================================
       æ¥æ”¶æ–¹å¼ - ä¼˜åŒ–å¸ƒå±€
       ========================================== */
    .receive-row {
      display: flex;
      gap: 12px;
      align-items: stretch;
      flex-wrap: wrap; /* å…è®¸æ¢è¡Œ */
    }

    /* ç§»åŠ¨ç«¯å¢åŠ é—´è·ï¼Œä½¿è®¾è®¡æ›´ç–æœ—å¹³è¡¡ */
    @media (max-width: 767px) {
      .receive-row {
        gap: 12px; /* ä»14pxæ”¹ä¸º12pxï¼Œåœ¨æ¢è¡Œå¸ƒå±€ä¸‹æ›´å¹³è¡¡ */
      }
    }

    .receive-btn {
      padding: 12px 20px;
      border: 2px solid var(--glass-border);
      border-radius: var(--radius-md);
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(8px);
      font-size: 14px;
      color: var(--color-text-primary);
      cursor: pointer;
      transition: all var(--duration-normal) var(--easing-smooth);
      white-space: nowrap;
      position: relative;
      overflow: hidden;
      flex-shrink: 0;
    }

    /* ç§»åŠ¨ç«¯å¢å¤§æŒ‰é’®ï¼Œè°ƒæ•´é—´è·ä½¿æ›´å¹³è¡¡ */
    @media (max-width: 767px) {
      .receive-btn {
        padding: 14px 28px; /* å¢å¤§å·¦å³paddingä½¿æŒ‰é’®æ›´ç–æœ— */
        min-height: 48px;
        font-size: 15px;
      }
    }
    
    /* PCç«¯æ³¢çº¹æ•ˆæœï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    .receive-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(122,158,126,0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }

    @media (hover: hover) {
      .receive-btn:active::before {
        width: 300px;
        height: 300px;
      }
    }
    
    /* PCç«¯æ‚¬åœæ•ˆæœï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    @media (hover: hover) {
      .receive-btn:hover { 
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      }
    }

    /* ç§»åŠ¨ç«¯ç‚¹å‡»åé¦ˆ */
    @media (max-width: 767px) {
      .receive-btn:active {
        transform: scale(0.98);
      }
    }

    .receive-btn.active {
      border-color: var(--color-accent);
      background: var(--color-accent);
      color: #fff;
    }
    
    .receive-input-wrap {
      flex: 1 1 100%; /* æ‰€æœ‰è®¾å¤‡éƒ½æ¢è¡Œï¼Œé¿å…å è¾¹bug */
      min-width: 0;
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transition: 
        max-height 0.4s var(--easing-smooth), 
        opacity var(--duration-normal) ease,
        margin-top var(--duration-normal) ease;
      margin-top: 0;
    }

    .receive-input-wrap.show {
      max-height: 100px;
      opacity: 1;
      margin-top: 12px; /* è¾“å…¥æ¡†å‡ºç°æ—¶å¢åŠ ä¸Šè¾¹è· */
    }

    .receive-input-wrap input {
      width: 100%;
      height: 100%;
      min-height: 44px;
      padding: 0 14px;
      border: 2px solid var(--glass-border);
      border-radius: var(--radius-md);
      font-size: 14px;
      color: var(--color-text-primary);
      background: rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(8px);
      outline: none;
      transition: all var(--duration-normal) var(--easing-smooth);
    }

    /* ç§»åŠ¨ç«¯è¾“å…¥æ¡†åŠ é«˜ï¼Œç¡®ä¿èƒ½å®¹çº³é‚®ç®±åŸŸåé•¿åº¦ */
    @media (max-width: 767px) {
      .receive-input-wrap input {
        min-height: 50px; /* ä»48pxå¢è‡³50px */
        font-size: 15px;
        padding: 0 16px;
      }
    }

    .receive-input-wrap input:focus {
      border-color: var(--color-accent);
      transform: scale(1.01);
    }

    /* ç§»åŠ¨ç«¯focusä¸ç¼©æ”¾ */
    @media (max-width: 767px) {
      .receive-input-wrap input:focus {
        transform: scale(1);
      }
    }

    .receive-input-wrap input::placeholder {
      color: var(--color-text-tertiary);
    }

    /* ==========================================
       é™„åŠ æœåŠ¡å¼€å…³ - å¾®äº¤äº’
       ========================================== */
    .toggle-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 4px 0;
    }

    /* ç§»åŠ¨ç«¯å¢åŠ padding */
    @media (max-width: 767px) {
      .toggle-row {
        padding: 8px 0;
      }
    }

    .toggle-label {
      font-size: 14px;
      color: var(--color-text-primary);
      flex: 1;
      line-height: 1.4;
    }

    /* ç§»åŠ¨ç«¯å¢å¤§å­—å· */
    @media (max-width: 767px) {
      .toggle-label {
        font-size: 15px;
      }
    }

    .toggle-label small {
      display: block;
      color: var(--color-text-secondary);
      font-size: 12px;
      margin-top: 2px;
    }

    @media (max-width: 767px) {
      .toggle-label small {
        font-size: 13px;
      }
    }

    .toggle-switch {
      width: 48px;
      height: 28px;
      background: rgba(200,184,168,0.3);
      backdrop-filter: blur(4px);
      border-radius: 14px;
      position: relative;
      cursor: pointer;
      transition: all var(--duration-normal) var(--easing-smooth);
      flex-shrink: 0;
      margin-left: 12px;
    }

    /* ç§»åŠ¨ç«¯å¢å¤§å¼€å…³å°ºå¯¸ */
    @media (max-width: 767px) {
      .toggle-switch {
        width: 56px;
        height: 32px;
        border-radius: 16px;
        margin-left: 16px;
      }
    }

    /* PCç«¯æ‚¬åœæ•ˆæœï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    @media (hover: hover) {
      .toggle-switch:hover { transform: scale(1.05); }
    }

    /* ç§»åŠ¨ç«¯ç‚¹å‡»åé¦ˆ */
    @media (max-width: 767px) {
      .toggle-switch:active { transform: scale(0.95); }
    }

    .toggle-switch.active {
      background: var(--color-accent);
    }
    .toggle-switch::after {
      content: '';
      width: 22px;
      height: 22px;
      background: #fff;
      border-radius: 50%;
      position: absolute;
      top: 3px;
      left: 3px;
      transition: left var(--duration-normal) var(--easing-bounce);
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    /* ç§»åŠ¨ç«¯è°ƒæ•´æ»‘å—å°ºå¯¸ */
    @media (max-width: 767px) {
      .toggle-switch::after {
        width: 26px;
        height: 26px;
      }
    }

    .toggle-switch.active::after {
      left: 23px;
    }

    @media (max-width: 767px) {
      .toggle-switch.active::after {
        left: 27px;
      }
    }

    /* ==========================================
       æäº¤æŒ‰é’® - ç£¨ç ‚ç»ç’ƒè´¨æ„Ÿ
       ========================================== */
    /* ==========================================
       æäº¤æŒ‰é’® - è¤è‰²é«˜ç¡¼ç¡…ç»ç’ƒè´¨æ„Ÿ
       ========================================== */
    .submit-btn {
      width: 100%;
      padding: 16px;
      border: 1.5px solid rgba(159, 131, 112, 0.4);
      border-radius: var(--radius-md);
      
      /* è¤è‰²é«˜ç¡¼ç¡…ç»ç’ƒæ•ˆæœ - é€æ˜è´¨æ„Ÿ */
      background: transparent;
      backdrop-filter: blur(20px) saturate(150%);
      background-image: linear-gradient(
        135deg,
        rgba(155, 131, 112, 0.35) 0%,   /* è¤è‰²ç»ç’ƒ */
        rgba(175, 160, 145, 0.25) 50%,
        rgba(155, 131, 112, 0.3) 100%
      );
      
      /* iOSé£æ ¼è¾¹ç¼˜é«˜å…‰ */
      box-shadow: 
        0 4px 16px rgba(155, 131, 112, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.5);
      
      color: var(--color-primary-dark);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--duration-normal) var(--easing-smooth);
      letter-spacing: 2px;
      position: relative;
      overflow: hidden;
      
      /* åˆå§‹éšè— */
      opacity: 0;
      transform: translateY(calc(-1 * var(--slide-distance)));
      pointer-events: none;
    }

    /* ç§»åŠ¨ç«¯å¢å¤§æŒ‰é’®é«˜åº¦ */
    @media (max-width: 767px) {
      .submit-btn {
        padding: 18px;
        font-size: 17px;
        min-height: 56px;
      }
    }

    .submit-btn.visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
    
    /* PCç«¯å…‰æ™•æ‰«è¿‡ï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    .submit-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: left 0.5s ease;
    }

    @media (hover: hover) {
      .submit-btn:hover::before { left: 100%; }
      
      .submit-btn:hover:not(:disabled) {
        transform: translateY(-3px);
        box-shadow: 
          0 8px 24px rgba(155, 131, 112, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.6);
        border-color: rgba(175, 160, 145, 0.6);
        background-image: linear-gradient(
          135deg,
          rgba(155, 131, 112, 0.4) 0%,
          rgba(175, 160, 145, 0.3) 50%,
          rgba(155, 131, 112, 0.35) 100%
        );
      }
    }
    
    .submit-btn:active:not(:disabled) {
      transform: translateY(-1px) scale(0.98);
      background-image: linear-gradient(
        135deg,
        rgba(145, 121, 102, 0.4) 0%,
        rgba(165, 150, 135, 0.3) 50%,
        rgba(145, 121, 102, 0.35) 100%
      );
    }

    /* ç§»åŠ¨ç«¯ç‚¹å‡»åé¦ˆ */
    @media (max-width: 767px) {
      .submit-btn:active:not(:disabled) {
        transform: scale(0.98);
      }
    }

    .submit-btn:disabled {
      background: var(--color-disabled-bg);
      background-image: none;
      color: var(--color-disabled-text);
      cursor: not-allowed;
      border-color: transparent;
      box-shadow: none;
      backdrop-filter: none;
    }
    }

    /* ==========================================
       Toast é€šçŸ¥ï¼ˆVercel é£æ ¼ï¼‰
       ========================================== */
    .toast-container {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 10px;
      pointer-events: none;
    }

    .toast {
      background: #000;
      color: #fff;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      gap: 10px;
      pointer-events: auto;
      
      /* å…¥åœºåŠ¨ç”» */
      animation: toastSlideIn 0.3s var(--easing-bounce);
      
      /* æ·¡å‡ºåŠ¨ç”» */
      opacity: 1;
      transition: opacity 0.3s ease;
    }

    .toast.fade-out {
      opacity: 0;
    }

    @keyframes toastSlideIn {
      from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .toast .icon {
      font-size: 16px;
      flex-shrink: 0;
    }

    /* ==========================================
       åŠ è½½çŠ¶æ€
       ========================================== */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255,255,255,0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin 0.6s linear infinite;
      vertical-align: middle;
      margin-right: 8px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
  </style>
</head>
<body>

  <!-- è§†å·®èƒŒæ™¯å±‚ -->
  <div class="parallax-bg"></div>

  <!-- Toast é€šçŸ¥å®¹å™¨ -->
  <div class="toast-container" id="toast-container"></div>

  <div class="header">
    <div class="header-logo">Mo:link Design</div>
    <div class="header-sub">è‰ºæœ¯ç©ºé—´åŒ¹é…æœåŠ¡</div>
  </div>

  <div class="container">

    <!-- åŒºåŸŸ1: æœåŠ¡ç±»å‹é€‰æ‹©ï¼ˆå§‹ç»ˆå¯è§ï¼‰ -->
    <div class="section" id="section-service">
      <div class="section-title">æœåŠ¡ç±»å‹é€‰æ‹©</div>
      <div class="service-btns">
        <div class="service-btn" data-type="hang_in_home" onclick="é€‰æ‹©æœåŠ¡(this)">
          <div class="icon">A</div>
          <div>ä½œå“æŒ‚è¿›å®¶</div>
        </div>
        <div class="service-btn" data-type="recommend_work" onclick="é€‰æ‹©æœåŠ¡(this)">
          <div class="icon">B</div>
          <div>æ ¹æ®ç©ºé—´æ¨èä½œå“</div>
        </div>
        <div class="service-btn" data-type="recommend_space" onclick="é€‰æ‹©æœåŠ¡(this)">
          <div class="icon">C</div>
          <div>æ ¹æ®ä½œå“æ¨èç©ºé—´</div>
        </div>
      </div>
    </div>

    <!-- åŒºåŸŸ2: å›¾ç‰‡ä¸Šä¼  -->
    <div class="section" id="section-upload">
      <div class="section-title">å›¾ç‰‡ä¸Šä¼ </div>
      <div class="upload-row">
        <div class="upload-box disabled" id="upload-artwork" onclick="è§¦å‘ä¸Šä¼ ('artwork')">
          <input type="file" id="file-artwork" accept="image/*" onchange="å¤„ç†ä¸Šä¼ (this, 'artwork')">
          <span class="plus">+</span>
          <span class="label">ä½œå“å›¾ç‰‡</span>
        </div>
        <div class="upload-box disabled" id="upload-space" onclick="è§¦å‘ä¸Šä¼ ('space')">
          <input type="file" id="file-space" accept="image/*" onchange="å¤„ç†ä¸Šä¼ (this, 'space')">
          <span class="plus">+</span>
          <span class="label">ç©ºé—´å›¾ç‰‡</span>
        </div>
      </div>
    </div>

    <!-- åŒºåŸŸ3: æ¥æ”¶æ–¹å¼ -->
    <div class="section" id="section-receive">
      <div class="section-title">æ¥æ”¶æ–¹å¼</div>
      <div class="receive-row">
        <div class="receive-btn" data-method="email" onclick="é€‰æ‹©æ¥æ”¶æ–¹å¼(this)">é‚®ç®±</div>
        <div class="receive-btn" data-method="sms" onclick="é€‰æ‹©æ¥æ”¶æ–¹å¼(this)">çŸ­ä¿¡</div>
        <div class="receive-input-wrap" id="receive-input-wrap">
          <input type="text" id="receive-target" placeholder="">
        </div>
      </div>
    </div>

    <!-- åŒºåŸŸ4: é™„åŠ æœåŠ¡ -->
    <div class="section" id="section-extra">
      <div class="toggle-row">
        <div class="toggle-label">
          æŒ‚ç”»åè½¯è£…é€‚é…æ€§å¾®è°ƒ
          <small>å¯é€‰é™„åŠ æœåŠ¡</small>
        </div>
        <div class="toggle-switch" id="extra-toggle" onclick="åˆ‡æ¢é™„åŠ æœåŠ¡()"></div>
      </div>
    </div>

    <button class="submit-btn" id="submit-btn" disabled onclick="æäº¤è¡¨å•()">æäº¤</button>

  </div>

  <script>
    /* ==========================================
       è§†å·®æ»šåŠ¨æ•ˆæœ - èƒŒæ™¯é€Ÿåº¦ä¸ºå†…å®¹çš„50%
       ç§»åŠ¨ç«¯å’ŒPCç«¯éƒ½åŠ é˜²æŠ–ä¼˜åŒ–
       ========================================== */
    const parallaxBg = document.querySelector('.parallax-bg');
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    
    // ç§»åŠ¨ç«¯ä½¿ç”¨å›ºå®šé«˜åº¦ï¼Œé¿å…åœ°å€æ éšè—/æ˜¾ç¤ºå¯¼è‡´çš„æŠ–åŠ¨
    if (isMobile) {
      const viewportHeight = window.innerHeight;
      parallaxBg.style.height = `${viewportHeight * 2}px`;
    } else {
      // PCç«¯ï¼šåŠ¨æ€è®¡ç®—èƒŒæ™¯é«˜åº¦
      function æ›´æ–°èƒŒæ™¯é«˜åº¦() {
        const docHeight = document.documentElement.scrollHeight;
        parallaxBg.style.height = `${docHeight * 1.5}px`;
      }
      
      æ›´æ–°èƒŒæ™¯é«˜åº¦();
      
      // PCç«¯é˜²æŠ–resizeï¼Œé¿å…é¢‘ç¹è§¦å‘
      let resizeTimer;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(æ›´æ–°èƒŒæ™¯é«˜åº¦, 150);
      });
    }
    
    // è§†å·®æ»šåŠ¨ï¼šèƒŒæ™¯ç§»åŠ¨é€Ÿåº¦ä¸ºæ»šåŠ¨çš„50%ï¼Œä½¿ç”¨RAFä¼˜åŒ–æ€§èƒ½
    let ticking = false;
    let lastScrollY = 0;
    
    window.addEventListener('scroll', () => {
      lastScrollY = window.scrollY;
      
      if (!ticking) {
        window.requestAnimationFrame(() => {
          // ä½¿ç”¨ä¸Šæ¬¡ä¿å­˜çš„scrollYå€¼ï¼Œé¿å…å¼ºåˆ¶åŒæ­¥å¸ƒå±€
          parallaxBg.style.transform = `translateY(${lastScrollY * 0.5}px)`;
          ticking = false;
        });
        ticking = true;
      }
    }, { passive: true });

    /* ==========================================
       Toast é€šçŸ¥ç³»ç»Ÿ
       ========================================== */
    function æ˜¾ç¤ºToast(message, icon = 'âœ“') {
      const container = document.getElementById('toast-container');
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.innerHTML = `
        <span class="icon">${icon}</span>
        <span>${message}</span>
      `;
      container.appendChild(toast);
      
      // 3ç§’åæ·¡å‡ºå¹¶ç§»é™¤
      setTimeout(() => {
        toast.classList.add('fade-out');
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    /* ==========================================
       é¼ æ ‡è·Ÿè¸ªæ‚¬åœå…‰æ™•ï¼ˆæœåŠ¡æŒ‰é’®ï¼‰
       ========================================== */
    document.querySelectorAll('.service-btn').forEach(btn => {
      btn.addEventListener('mousemove', (e) => {
        const rect = btn.getBoundingClientRect();
        const x = ((e.clientX - rect.left) / rect.width) * 100;
        const y = ((e.clientY - rect.top) / rect.height) * 100;
        btn.style.setProperty('--mouse-x', `${x}%`);
        btn.style.setProperty('--mouse-y', `${y}%`);
      });
    });

    /* ==========================================
       çŠ¶æ€ç®¡ç†
       ========================================== */
    const çŠ¶æ€ = {
      æœåŠ¡ç±»å‹: null,
      æ¥æ”¶æ–¹å¼: null,
      æ¥æ”¶åœ°å€: '',
      é™„åŠ æœåŠ¡: false,
      ä½œå“å›¾æ–‡ä»¶: null,
      ç©ºé—´å›¾æ–‡ä»¶: null,
      æäº¤ä¸­: false,
      å½“å‰æ­¥éª¤: 1
    };

    /* ==========================================
       æ¸è¿›å¼æ˜¾ç¤ºåŠ¨ç”»æ§åˆ¶
       ========================================== */
    function æ˜¾ç¤ºåŒºåŸŸ(sectionId, å›è°ƒ) {
      const section = document.getElementById(sectionId);
      if (!section || section.classList.contains('visible')) {
        if (å›è°ƒ) å›è°ƒ();
        return;
      }
      
      section.classList.add('visible');
      
      setTimeout(() => {
        const rect = section.getBoundingClientRect();
        const windowHeight = window.innerHeight;
        
        if (rect.bottom > windowHeight - 20) {
          section.scrollIntoView({ 
            behavior: 'smooth', 
            block: 'nearest' 
          });
        }
        
        if (å›è°ƒ) {
          setTimeout(å›è°ƒ, 300);
        }
      }, 50);
    }

    /* ==========================================
       æœåŠ¡ç±»å‹é€‰æ‹©
       ========================================== */
    function é€‰æ‹©æœåŠ¡(btn) {
      document.querySelectorAll('.service-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      çŠ¶æ€.æœåŠ¡ç±»å‹ = btn.dataset.type;
      çŠ¶æ€.å½“å‰æ­¥éª¤ = 2;

      æ¸…é™¤ä¸Šä¼ ('artwork');
      æ¸…é™¤ä¸Šä¼ ('space');

      const artworkBox = document.getElementById('upload-artwork');
      const spaceBox = document.getElementById('upload-space');

      if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'hang_in_home') {
        artworkBox.classList.remove('disabled');
        spaceBox.classList.remove('disabled');
      } else if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'recommend_work') {
        artworkBox.classList.add('disabled');
        spaceBox.classList.remove('disabled');
      } else if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'recommend_space') {
        artworkBox.classList.remove('disabled');
        spaceBox.classList.add('disabled');
      }

      æ˜¾ç¤ºåŒºåŸŸ('section-upload');
      æ£€æŸ¥æäº¤æ¡ä»¶();
    }

    /* ==========================================
       å›¾ç‰‡ä¸Šä¼ å¤„ç†
       ========================================== */
    function è§¦å‘ä¸Šä¼ (type) {
      const box = document.getElementById(`upload-${type}`);
      if (box.classList.contains('disabled') || box.classList.contains('has-image')) return;
      document.getElementById(`file-${type}`).click();
    }

    function å¤„ç†ä¸Šä¼ (input, type) {
      const file = input.files[0];
      if (!file) return;

      if (type === 'artwork') çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶ = file;
      else çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶ = file;

      const box = document.getElementById(`upload-${type}`);
      box.classList.add('has-image');

      const oldPreview = box.querySelector('img.preview');
      const oldRemove = box.querySelector('.remove-btn');
      if (oldPreview) oldPreview.remove();
      if (oldRemove) oldRemove.remove();

      const img = document.createElement('img');
      img.className = 'preview';
      img.src = URL.createObjectURL(file);
      box.appendChild(img);

      const removeBtn = document.createElement('div');
      removeBtn.className = 'remove-btn';
      removeBtn.textContent = 'Ã—';
      removeBtn.onclick = (e) => {
        e.stopPropagation();
        æ¸…é™¤ä¸Šä¼ (type);
      };
      box.appendChild(removeBtn);

      æ£€æŸ¥ä¸Šä¼ å®Œæˆ();
    }

    function æ¸…é™¤ä¸Šä¼ (type) {
      if (type === 'artwork') çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶ = null;
      else çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶ = null;

      const box = document.getElementById(`upload-${type}`);
      box.classList.remove('has-image');
      const preview = box.querySelector('img.preview');
      const removeBtn = box.querySelector('.remove-btn');
      if (preview) preview.remove();
      if (removeBtn) removeBtn.remove();

      document.getElementById(`file-${type}`).value = '';
      æ£€æŸ¥æäº¤æ¡ä»¶();
    }

    function æ£€æŸ¥ä¸Šä¼ å®Œæˆ() {
      let ä¸Šä¼ å®Œæˆ = false;
      
      if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'hang_in_home') {
        ä¸Šä¼ å®Œæˆ = çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶ && çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶;
      } else if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'recommend_work') {
        ä¸Šä¼ å®Œæˆ = çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶;
      } else if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'recommend_space') {
        ä¸Šä¼ å®Œæˆ = çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶;
      }

      if (ä¸Šä¼ å®Œæˆ && çŠ¶æ€.å½“å‰æ­¥éª¤ === 2) {
        çŠ¶æ€.å½“å‰æ­¥éª¤ = 3;
        æ˜¾ç¤ºåŒºåŸŸ('section-receive');
      }
      
      æ£€æŸ¥æäº¤æ¡ä»¶();
    }

    /* ==========================================
       æ¥æ”¶æ–¹å¼é€‰æ‹©
       ========================================== */
    function é€‰æ‹©æ¥æ”¶æ–¹å¼(btn) {
      const method = btn.dataset.method;
      const inputWrap = document.getElementById('receive-input-wrap');
      const input = document.getElementById('receive-target');

      document.querySelectorAll('.receive-btn').forEach(b => b.classList.remove('active'));

      if (çŠ¶æ€.æ¥æ”¶æ–¹å¼ === method) {
        çŠ¶æ€.æ¥æ”¶æ–¹å¼ = null;
        inputWrap.classList.remove('show');
        input.value = '';
        çŠ¶æ€.æ¥æ”¶åœ°å€ = '';
      } else {
        btn.classList.add('active');
        çŠ¶æ€.æ¥æ”¶æ–¹å¼ = method;
        inputWrap.classList.add('show');

        if (method === 'email') {
          input.type = 'email';
          input.placeholder = 'è¯·è¾“å…¥é‚®ç®±åœ°å€';
        } else {
          input.type = 'tel';
          input.placeholder = 'è¯·è¾“å…¥æ‰‹æœºå·';
        }

        input.value = '';
        çŠ¶æ€.æ¥æ”¶åœ°å€ = '';
        setTimeout(() => input.focus(), 400);
      }

      æ£€æŸ¥æäº¤æ¡ä»¶();
    }

    document.getElementById('receive-target').addEventListener('input', (e) => {
      çŠ¶æ€.æ¥æ”¶åœ°å€ = e.target.value.trim();
      æ£€æŸ¥æ¥æ”¶å®Œæˆ();
    });

    function æ£€æŸ¥æ¥æ”¶å®Œæˆ() {
      if (çŠ¶æ€.æ¥æ”¶æ–¹å¼ && çŠ¶æ€.æ¥æ”¶åœ°å€ && çŠ¶æ€.å½“å‰æ­¥éª¤ === 3) {
        çŠ¶æ€.å½“å‰æ­¥éª¤ = 4;
        æ˜¾ç¤ºåŒºåŸŸ('section-extra', () => {
          document.getElementById('submit-btn').classList.add('visible');
        });
      }
      æ£€æŸ¥æäº¤æ¡ä»¶();
    }

    /* ==========================================
       é™„åŠ æœåŠ¡å¼€å…³
       ========================================== */
    function åˆ‡æ¢é™„åŠ æœåŠ¡() {
      çŠ¶æ€.é™„åŠ æœåŠ¡ = !çŠ¶æ€.é™„åŠ æœåŠ¡;
      document.getElementById('extra-toggle').classList.toggle('active', çŠ¶æ€.é™„åŠ æœåŠ¡);
    }

    /* ==========================================
       æäº¤æ¡ä»¶æ£€æŸ¥
       ========================================== */
    function æ£€æŸ¥æäº¤æ¡ä»¶() {
      let å¯æäº¤ = true;

      if (!çŠ¶æ€.æœåŠ¡ç±»å‹) å¯æäº¤ = false;
      if (!çŠ¶æ€.æ¥æ”¶æ–¹å¼ || !çŠ¶æ€.æ¥æ”¶åœ°å€) å¯æäº¤ = false;

      if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'hang_in_home') {
        if (!çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶ || !çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶) å¯æäº¤ = false;
      } else if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'recommend_work') {
        if (!çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶) å¯æäº¤ = false;
      } else if (çŠ¶æ€.æœåŠ¡ç±»å‹ === 'recommend_space') {
        if (!çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶) å¯æäº¤ = false;
      }

      document.getElementById('submit-btn').disabled = !å¯æäº¤;
    }

    /* ==========================================
       æäº¤è¡¨å•
       ========================================== */
    async function æäº¤è¡¨å•() {
      if (çŠ¶æ€.æäº¤ä¸­) return;
      çŠ¶æ€.æäº¤ä¸­ = true;

      const btn = document.getElementById('submit-btn');
      btn.innerHTML = '<span class="loading-spinner"></span>æäº¤ä¸­...';
      btn.disabled = true;

      const formData = new FormData();
      formData.append('service_type', çŠ¶æ€.æœåŠ¡ç±»å‹);
      formData.append('receive_method', çŠ¶æ€.æ¥æ”¶æ–¹å¼);
      formData.append('receive_target', çŠ¶æ€.æ¥æ”¶åœ°å€);
      formData.append('extra_service', çŠ¶æ€.é™„åŠ æœåŠ¡ ? '1' : '0');

      if (çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶) formData.append('artwork', çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶);
      if (çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶) formData.append('space', çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶);

      try {
        const resp = await fetch('/api/client/submit', {
          method: 'POST',
          body: formData
        });
        const data = await resp.json();

        if (data.success) {
          const methodText = çŠ¶æ€.æ¥æ”¶æ–¹å¼ === 'email' ? 'é‚®ç®±' : 'çŸ­ä¿¡';
          æ˜¾ç¤ºToast(`æäº¤æˆåŠŸï¼å¤„ç†å®Œæˆåå°†é€šè¿‡${methodText}é€šçŸ¥æ‚¨`, 'âœ“');
          
          // 2ç§’åé‡ç½®è¡¨å•
          setTimeout(() => {
            é‡ç½®è¡¨å•();
          }, 2000);
        } else {
          æ˜¾ç¤ºToast(data.error || 'æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•', 'âœ—');
        }
      } catch (err) {
        æ˜¾ç¤ºToast('ç½‘ç»œå¼‚å¸¸ï¼Œè¯·æ£€æŸ¥è¿æ¥åé‡è¯•', 'âœ—');
        console.error(err);
      } finally {
        çŠ¶æ€.æäº¤ä¸­ = false;
        btn.textContent = 'æäº¤';
        æ£€æŸ¥æäº¤æ¡ä»¶();
      }
    }

    /* ==========================================
       é‡ç½®è¡¨å•
       ========================================== */
    function é‡ç½®è¡¨å•() {
      çŠ¶æ€.æœåŠ¡ç±»å‹ = null;
      çŠ¶æ€.æ¥æ”¶æ–¹å¼ = null;
      çŠ¶æ€.æ¥æ”¶åœ°å€ = '';
      çŠ¶æ€.é™„åŠ æœåŠ¡ = false;
      çŠ¶æ€.ä½œå“å›¾æ–‡ä»¶ = null;
      çŠ¶æ€.ç©ºé—´å›¾æ–‡ä»¶ = null;
      çŠ¶æ€.å½“å‰æ­¥éª¤ = 1;

      document.querySelectorAll('.service-btn').forEach(b => b.classList.remove('active'));
      æ¸…é™¤ä¸Šä¼ ('artwork');
      æ¸…é™¤ä¸Šä¼ ('space');
      document.getElementById('upload-artwork').classList.add('disabled');
      document.getElementById('upload-space').classList.add('disabled');
      document.querySelectorAll('.receive-btn').forEach(b => b.classList.remove('active'));
      document.getElementById('receive-input-wrap').classList.remove('show');
      document.getElementById('receive-target').value = '';
      document.getElementById('extra-toggle').classList.remove('active');
      
      document.querySelectorAll('.section').forEach((s, i) => {
        if (i > 0) s.classList.remove('visible');
      });
      document.getElementById('submit-btn').classList.remove('visible');
      document.getElementById('submit-btn').disabled = true;
      
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
</body>
</html>
