<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, minimal-ui">
  <title>Mo:link Design Â· æŸ¥çœ‹äº¤ä»˜ç»“æœ</title>
  <style>
    :root {
      /* ğŸ¨ ç»ç’ƒé’è‰²è°ƒèŠ‚ï¼ˆ0-20 æ¨èï¼Œæ•°å€¼è¶Šå¤§é’è‰²è¶Šæ˜æ˜¾ï¼‰ */
      --glass-cyan-percent: 8;
      
      /* å“ç‰Œè‰²ç³» - æ¸…é€è½»ç›ˆ */
      --color-primary: #9B8370;
      --color-primary-light: #B5A091;
      --color-primary-dark: #806A54;
      --color-accent: #7a9e7e;
      --color-text-primary: #2a2a2a;
      --color-text-secondary: #5a5a5a;
      --color-text-tertiary: #8a8a8a;
      
      /* ç»ç’ƒæ€æ•ˆæœ - æé«˜é€æ˜åº¦ï¼ŒiOSé£æ ¼ */
      --glass-bg: hsla(180, calc(var(--glass-cyan-percent) * 1%), 98%, 0.25); /* ä»0.15æé«˜åˆ°0.25 */
      --glass-border: hsla(180, calc(var(--glass-cyan-percent) * 0.8%), 95%, 0.5); /* ä»0.3æé«˜åˆ°0.5 */
      --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.12);
      --glass-blur: 20px; /* ä»12pxå¢å¼ºåˆ°20px */
      
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      
      --duration-fast: 0.2s;
      --duration-normal: 0.3s;
      --easing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
      --easing-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    /* ==========================================
       ç§»åŠ¨ç«¯å…¨å±€ä¼˜åŒ– + Chromeç§»åŠ¨ç«¯ä¿®å¤
       ========================================== */
    html {
      touch-action: manipulation;
      -webkit-user-select: none;
      user-select: none;
      scroll-behavior: smooth;
      /* Chromeç§»åŠ¨ç«¯ï¼šé˜²æ­¢è‡ªåŠ¨è°ƒæ•´å­—ä½“å¤§å° */
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    /* ç¦ç”¨ç§»åŠ¨ç«¯ç‚¹å‡»è“è‰²é«˜äº® */
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      color: var(--color-text-primary);
      -webkit-font-smoothing: antialiased;
    }

    /* ==========================================
       è§†å·®èƒŒæ™¯å±‚ - æ”¯æŒæœ¬åœ°å›¾ç‰‡æ›¿æ¢ï¼Œè·Ÿéšæ»šåŠ¨ä½†é€Ÿåº¦å‡åŠ
       ========================================== */
    .parallax-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      /* ä½¿ç”¨å›ºå®šåƒç´ é«˜åº¦é¿å…ç§»åŠ¨ç«¯åœ°å€æ å¯¼è‡´çš„æŠ–åŠ¨ */
      height: 100%; /* ç»§æ‰¿bodyé«˜åº¦ */
      min-height: 100%; /* æœ€å°é«˜åº¦ */
      z-index: 0;
      opacity: 1; /* ä½¿ç”¨åŸå›¾ï¼Œä¸é™ä½é€æ˜åº¦ */
      will-change: transform;
      
      /* é»˜è®¤æ¸å˜èƒŒæ™¯ */
      background: linear-gradient(135deg, #f5efe9 0%, #e8dfd5 100%);
      
      /* ç§»åŠ¨ç«¯å›¾ç‰‡èƒŒæ™¯ï¼ˆä¼˜å…ˆåŠ è½½å°å°ºå¯¸ï¼‰ */
      background-image: url('/images/background-mobile.jpg');
      background-size: cover;
      background-position: center top;
      background-repeat: no-repeat;
      background-attachment: scroll;
    }

    /* PCç«¯ä½¿ç”¨é«˜æ¸…å›¾ç‰‡ */
    @media (min-width: 768px) {
      .parallax-bg {
        background-image: url('/images/background.jpg');
      }
    }

    /* æ ¼ç½‘èƒŒæ™¯å·²ç§»é™¤ï¼Œä½¿ç”¨çº¯å›¾ç‰‡èƒŒæ™¯ */

    .parallax-bg::after {
      content: '';
      position: absolute;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='3.5' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
      opacity: 0.6;
      mix-blend-mode: overlay;
    }

    /* ==========================================
       é¡µé¢å¤´éƒ¨ - ç»ç’ƒæ€
       ========================================== */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      padding: 14px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      backdrop-filter: blur(var(--glass-blur)) saturate(180%);
      background: var(--glass-bg);
      border-bottom: 1px solid var(--glass-border);
      box-shadow: var(--glass-shadow);
      background-image: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.3) 0%,
        rgba(255, 255, 255, 0.05) 50%,
        rgba(255, 255, 255, 0.1) 100%
      );
    }
    
    .back-btn {
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      cursor: pointer;
      border-radius: 8px;
      transition: all var(--duration-normal) var(--easing-bounce);
      text-decoration: none;
      color: var(--color-primary-dark);
      background: rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(4px);
    }

    /* ç§»åŠ¨ç«¯å¢å¤§å¯ç‚¹å‡»åŒºåŸŸ */
    @media (max-width: 767px) {
      .back-btn {
        width: 44px;
        height: 44px;
        font-size: 24px;
      }
    }

    /* PCç«¯æ‚¬åœæ•ˆæœï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    @media (hover: hover) {
      .back-btn:hover { 
        background: rgba(255, 255, 255, 0.5);
        transform: translateX(-3px) scale(1.05);
      }
    }

    .back-btn:active { transform: translateX(-1px) scale(0.98); }

    /* ç§»åŠ¨ç«¯ç‚¹å‡»åé¦ˆ */
    @media (max-width: 767px) {
      .back-btn:active {
        transform: scale(0.95);
        background: rgba(255, 255, 255, 0.5);
      }
    }
    
    .header-title { 
      font-size: 16px; 
      font-weight: 600;
      color: var(--color-primary-dark);
    }

    /* ==========================================
       ä¸»å®¹å™¨ - è§†å·®å‰æ™¯å±‚
       ========================================== */
    .container {
      position: relative;
      z-index: 1;
      max-width: 480px;
      margin: 0 auto;
      padding: 20px 16px 60px;
    }

    /* ç§»åŠ¨ç«¯å¢åŠ é—´è· */
    @media (max-width: 767px) {
      .container {
        padding: 24px 20px 80px;
      }
    }

    /* ==========================================
       çŠ¶æ€å¡ç‰‡ - Glassmorphism iOSé£æ ¼è¾¹ç¼˜æ‰­æ›²
       ========================================== */
    .status-card {
      backdrop-filter: blur(var(--glass-blur)) saturate(180%);
      background: var(--glass-bg);
      border-radius: var(--radius-xl);
      padding: 32px 24px;
      text-align: center;
      border: 1px solid var(--glass-border);
      margin-bottom: 20px;
      box-shadow: var(--glass-shadow);
      position: relative;
      overflow: visible; /* å…è®¸è¾¹ç¼˜æ•ˆæœæº¢å‡º */
      
      /* é’è‰²è°ƒç»ç’ƒè¾¹ç¼˜åå…‰ */
      background-image: linear-gradient(
        135deg,
        hsla(180, calc(var(--glass-cyan-percent) * 2), 98%, 0.4) 0%,
        hsla(180, var(--glass-cyan-percent), 95%, 0.05) 50%,
        hsla(180, calc(var(--glass-cyan-percent) / 2), 96%, 0.15) 100%
      );
      
      animation: slideUp 0.5s var(--easing-smooth);
    }

    /* iOSé£æ ¼è¾¹ç¼˜æ‰­æ›²æ•ˆæœ - é¡¶éƒ¨é«˜å…‰ */
    .status-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.8) 50%,
        transparent 100%
      );
      border-radius: var(--radius-xl) var(--radius-xl) 0 0;
      opacity: 0.6;
    }

    /* ç§»åŠ¨ç«¯å¢åŠ paddingå’ŒåŠ å®½è¾¹ç¼˜ */
    @media (max-width: 767px) {
      .status-card {
        padding: 36px 28px;
        margin-bottom: 24px;
        border-width: 1.5px;
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ç™½è‰²å™ªç‚¹çº¹ç† */
    .status-card::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: var(--radius-xl);
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2.5' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
      pointer-events: none;
      mix-blend-mode: overlay;
    }
    
    .status-card .icon { 
      font-size: 40px; 
      margin-bottom: 12px;
      display: inline-block;
      animation: iconBounce 0.6s var(--easing-bounce);
    }

    /* ç§»åŠ¨ç«¯å¢å¤§å›¾æ ‡ */
    @media (max-width: 767px) {
      .status-card .icon {
        font-size: 48px;
        margin-bottom: 16px;
      }
    }

    @keyframes iconBounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    .status-card h2 { 
      font-size: 18px; 
      margin-bottom: 8px;
      color: var(--color-text-primary);
    }

    @media (max-width: 767px) {
      .status-card h2 {
        font-size: 20px;
        margin-bottom: 10px;
      }
    }

    .status-card p { 
      font-size: 14px; 
      color: var(--color-text-secondary); 
      line-height: 1.5; 
    }

    @media (max-width: 767px) {
      .status-card p {
        font-size: 15px;
        line-height: 1.6;
      }
    }

    /* ==========================================
       å›¾ç‰‡åˆ—è¡¨
       ========================================== */
    .image-list { 
      display: flex; 
      flex-direction: column; 
      gap: 16px; 
    }

    /* ç§»åŠ¨ç«¯å¢åŠ é—´è· */
    @media (max-width: 767px) {
      .image-list {
        gap: 20px;
      }
    }
    
    .image-item {
      backdrop-filter: blur(var(--glass-blur)) saturate(180%);
      background: var(--glass-bg);
      border-radius: var(--radius-lg);
      overflow: hidden;
      border: 1px solid var(--glass-border);
      box-shadow: var(--glass-shadow);
      transition: all var(--duration-normal) var(--easing-smooth);
      position: relative;
      
      /* é’è‰²è°ƒç»ç’ƒèƒŒæ™¯ */
      background-image: linear-gradient(
        135deg,
        hsla(180, calc(var(--glass-cyan-tint) * 1.5), 97%, 0.25) 0%,
        hsla(180, calc(var(--glass-cyan-tint) / 2), 95%, 0.05) 100%
      );
      
      animation: slideUp 0.5s var(--easing-smooth);
      animation-fill-mode: both;
    }

    /* ç§»åŠ¨ç«¯åŠ å®½è¾¹ç¼˜ */
    @media (max-width: 767px) {
      .image-item {
        border-width: 1.5px;
      }
    }

    .image-item:nth-child(1) { animation-delay: 0.1s; }
    .image-item:nth-child(2) { animation-delay: 0.2s; }
    .image-item:nth-child(3) { animation-delay: 0.3s; }
    .image-item:nth-child(4) { animation-delay: 0.4s; }

    /* PCç«¯æ‚¬åœæ”¾å¤§ï¼ˆè§¦æ‘¸è®¾å¤‡ç¦ç”¨ï¼‰ */
    @media (hover: hover) {
      .image-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(31, 38, 135, 0.25);
      }
      
      .image-item:hover img {
        transform: scale(1.02);
      }
    }
    
    .image-item img {
      width: 100%;
      display: block;
      -webkit-touch-callout: default;
      transition: transform var(--duration-normal) var(--easing-smooth);
    }
    
    .image-item .hint {
      padding: 8px 12px;
      font-size: 11px;
      color: var(--color-text-tertiary);
      text-align: center;
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(4px);
    }

    /* ç§»åŠ¨ç«¯å¢å¤§æç¤ºæ–‡å­— */
    @media (max-width: 767px) {
      .image-item .hint {
        padding: 10px 14px;
        font-size: 12px;
      }
    }

    /* ==========================================
       ç­‰å¾…çŠ¶æ€åŠ¨ç”»
       ========================================== */
    .waiting-dots span {
      animation: blink 1.4s infinite both;
    }
    .waiting-dots span:nth-child(2) { animation-delay: 0.2s; }
    .waiting-dots span:nth-child(3) { animation-delay: 0.4s; }
    @keyframes blink {
      0%, 80%, 100% { opacity: 0.3; }
      40% { opacity: 1; }
    }

    .loading {
      text-align: center;
      padding: 60px 20px;
      color: var(--color-text-tertiary);
    }
  </style>
</head>
<body>

  <!-- è§†å·®èƒŒæ™¯å±‚ -->
  <div class="parallax-bg"></div>

  <div class="header">
    <a class="back-btn" href="/" title="è¿”å›é¦–é¡µ">â€¹</a>
    <div class="header-title" id="page-title">åŠ è½½ä¸­...</div>
  </div>

  <div class="container" id="content">
    <div class="loading">åŠ è½½ä¸­...</div>
  </div>

  <script>
    /* ==========================================
       è§†å·®æ»šåŠ¨æ•ˆæœ - èƒŒæ™¯é€Ÿåº¦ä¸ºå†…å®¹çš„50%
       ç§»åŠ¨ç«¯å’ŒPCç«¯éƒ½åŠ é˜²æŠ–ä¼˜åŒ–
       ========================================== */
    const parallaxBg = document.querySelector('.parallax-bg');
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    
    // ç§»åŠ¨ç«¯ä½¿ç”¨å›ºå®šé«˜åº¦ï¼Œé¿å…åœ°å€æ éšè—/æ˜¾ç¤ºå¯¼è‡´çš„æŠ–åŠ¨
    if (isMobile) {
      const viewportHeight = window.innerHeight;
      parallaxBg.style.height = `${viewportHeight * 2}px`;
    } else {
      // PCç«¯ï¼šåŠ¨æ€è®¡ç®—èƒŒæ™¯é«˜åº¦
      function æ›´æ–°èƒŒæ™¯é«˜åº¦() {
        const docHeight = document.documentElement.scrollHeight;
        parallaxBg.style.height = `${docHeight * 1.5}px`;
      }
      
      æ›´æ–°èƒŒæ™¯é«˜åº¦();
      
      let resizeTimer;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(æ›´æ–°èƒŒæ™¯é«˜åº¦, 150);
      });
    }
    
    // è§†å·®æ»šåŠ¨ï¼šèƒŒæ™¯ç§»åŠ¨é€Ÿåº¦ä¸ºæ»šåŠ¨çš„50%ï¼Œä½¿ç”¨RAFä¼˜åŒ–æ€§èƒ½
    let ticking = false;
    let lastScrollY = 0;
    
    window.addEventListener('scroll', () => {
      lastScrollY = window.scrollY;
      
      if (!ticking) {
        window.requestAnimationFrame(() => {
          parallaxBg.style.transform = `translateY(${lastScrollY * 0.5}px)`;
          ticking = false;
        });
        ticking = true;
      }
    }, { passive: true });

    const token = window.location.pathname.split('/d/')[1];

    async function åŠ è½½äº¤ä»˜æ•°æ®() {
      try {
        const resp = await fetch(`/d/${token}/data`);
        const data = await resp.json();

        if (resp.status === 404) {
          æ¸²æŸ“é”™è¯¯('é¡µé¢ä¸å­˜åœ¨');
          return;
        }

        if (data.status === 'pending') {
          æ¸²æŸ“ç­‰å¾…ä¸­(data);
        } else if (data.status === 'delivered') {
          æ¸²æŸ“äº¤ä»˜ç»“æœ(data);
        }
      } catch (err) {
        æ¸²æŸ“é”™è¯¯('ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨ååˆ·æ–°é‡è¯•');
      }
    }

    function æ¸²æŸ“ç­‰å¾…ä¸­(data) {
      document.getElementById('page-title').textContent = data.service_type_label;
      document.getElementById('content').innerHTML = `
        <div class="status-card">
          <div class="icon">â—‹</div>
          <h2>æ­£åœ¨å¤„ç†ä¸­</h2>
          <p>æ‚¨çš„ã€Œ${data.service_type_label}ã€æœåŠ¡æ­£åœ¨å¤„ç†ä¸­<br>
          <span class="waiting-dots"><span>.</span><span>.</span><span>.</span></span><br>
          å®Œæˆåå°†é€šçŸ¥æ‚¨ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚</p>
        </div>
      `;
    }

    function æ¸²æŸ“äº¤ä»˜ç»“æœ(data) {
      document.getElementById('page-title').textContent = data.service_type_label;

      let imagesHtml = '';
      if (data.images && data.images.length > 0) {
        imagesHtml = `<div class="image-list">
          ${data.images.map(img => `
            <div class="image-item">
              <img src="/deliveries/${img}" alt="äº¤ä»˜å›¾ç‰‡">
              <div class="hint">é•¿æŒ‰å›¾ç‰‡å¯ä¿å­˜åˆ°ç›¸å†Œ</div>
            </div>
          `).join('')}
        </div>`;
      }

      document.getElementById('content').innerHTML = `
        <div class="status-card">
          <div class="icon">âœ“</div>
          <h2>å·²å®Œæˆ</h2>
          <p>æ‚¨çš„ã€Œ${data.service_type_label}ã€æœåŠ¡å·²å¤„ç†å®Œæ¯•<br>äº¤ä»˜æ—¶é—´ï¼š${data.delivered_at}</p>
        </div>
        ${imagesHtml}
      `;
    }

    function æ¸²æŸ“é”™è¯¯(msg) {
      document.getElementById('page-title').textContent = 'å‡ºé”™äº†';
      document.getElementById('content').innerHTML = `
        <div class="status-card">
          <div class="icon">Ã—</div>
          <h2>æ— æ³•åŠ è½½</h2>
          <p>${msg}</p>
        </div>
      `;
    }

    åŠ è½½äº¤ä»˜æ•°æ®();
  </script>
</body>
</html>
